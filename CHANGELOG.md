# 變更記錄

## [1.0.1] - 2026-02-09

### 🔧 修正與改進

#### LINE Bot 指令簡化
- **移除 `-a` 簽核狀態相關指令**：
  - 移除 `list -a`（未來已簽核）
  - 移除 `list -d -a` 和 `list -a -d`（當日已簽核）
- **簡化輸出格式**：
  - `list` 和 `list -d` 指令不再顯示簽核狀態
  - 新格式：`預計請假姓名 日期 開始 結束 假別`
- **更新 help 訊息**：
  - 新的說明：`list -d //列出含當日以後請假 ;d當日請假`

#### 檔案路徑優化
- 所有程式統一從 Persistent Disk (`/mnt/data/`) 讀取 CSV 檔案
- 移除回退邏輯，確保生產環境資料一致性
- 測試環境使用 `test-data/` 目錄

#### 文件整合
- 整合部署相關文件到 `部署指南.md`
- 整合備份工具說明到 `緊急備份指南.md`
- 移除重複和過時的文件

#### CSV 檔案管理
- CSV 檔案重新命名為英文：
  - `請假系統個人資料.csv` → `personal_data.csv`
  - `請假記錄.csv` → `leave_records.csv`
- 改為手動上傳方式，移除自動上傳腳本
- 更新所有相關程式碼和文件

### 🗑️ 移除項目
- 移除自動上傳腳本和相關工具
- 移除診斷和檢查腳本
- 移除重複的部署文件
- 移除 `-a` 簽核狀態查詢指令

---

## [1.0.0] - 2026-02-06

### 🎉 初始發布

泰鄉食品系統 v1.0.0 正式發布！

### ✨ 主要功能

#### 主網站
- 響應式網站設計
- 產品展示與分類
- 公司歷史介紹
- 聯絡資訊頁面

#### 請假系統
- 員工登入與身份驗證
- 請假申請功能（特休、病假、事假、生理假等）
- 請假記錄查詢
- 管理者審核功能
- 密碼變更功能
- 多語言支援（繁體中文、英文、印尼文）

#### LINE Bot
- 自動回覆請假查詢
- 支援多種查詢指令：
  - `help?` - 顯示幫助訊息
  - `list` - 列出未來請假記錄
  - `list -d` - 列出當日請假記錄
  - `list -a` - 列出已簽核請假記錄
  - `list -d -a` - 列出當日已簽核請假記錄
  - `請假` - 顯示請假系統連結
  - `官網` - 顯示官網連結
- 請假申請自動通知
- 今日請假通知功能

#### 備份系統
- 緊急備份 API
- 週報郵件備份
- CSV 資料下載功能

### 🏗️ 技術架構

#### 前端
- React + TypeScript + Vite
- Tailwind CSS
- 響應式設計

#### 後端
- Node.js + Express + TypeScript
- CSV 檔案儲存
- LINE Messaging API
- Gmail SMTP 郵件服務

#### 部署
- Render 雲端平台
- Static Site (主網站)
- Web Service (後端服務)
- Persistent Disk (資料儲存)

### 📁 資料檔案

- `personal_data.csv` - 員工個人資料
- `leave_records.csv` - 請假記錄

### 🔒 安全性

- JWT Token 身份驗證
- 密碼加密
- CORS 跨域保護
- LINE Webhook 簽名驗證
- 緊急備份 API User-Agent 驗證

### 📚 文件

- 部署指南
- 緊急備份指南
- 週報設定說明
- LINE Bot 使用說明

---

**版本格式說明**:
- 主版本號：重大功能變更或架構調整
- 次版本號：新功能添加
- 修訂版本號：錯誤修復和小改進

**發布週期**:
- 穩定版本會標註版本號並發布
- 開發中的功能會在分支中進行

**支援**:
- 詳見 `部署指南.md` 和相關文件
